<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.0">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="My Wiki Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="My Wiki Blog Atom Feed">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous"><title data-react-helmet="true">A1.计算机网络 | My Wiki</title><meta data-react-helmet="true" property="og:url" content="https://yanzhw.github.io/Network/A1.计算机网络"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="A1.计算机网络 | My Wiki"><meta data-react-helmet="true" name="description" content="[TOC]"><meta data-react-helmet="true" property="og:description" content="[TOC]"><meta data-react-helmet="true" property="og:image" content="https://cos.ap-guangzhou.myqcloud.com/wiki-media-1253965369/doc/logo-zip.png"><meta data-react-helmet="true" name="twitter:image" content="https://cos.ap-guangzhou.myqcloud.com/wiki-media-1253965369/doc/logo-zip.png"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://yanzhw.github.io/Network/A1.计算机网络"><link data-react-helmet="true" rel="alternate" href="https://yanzhw.github.io/Network/A1.计算机网络" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://yanzhw.github.io/Network/A1.计算机网络" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.060912d8.css">
<link rel="preload" href="/assets/js/runtime~main.31159d9f.js" as="script">
<link rel="preload" href="/assets/js/main.43afbd55.js" as="script">
</head>
<body>
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):window.matchMedia("(prefers-color-scheme: light)").matches?e("light"):e("dark")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="Wiki logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.svg" alt="Wiki logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">My Wiki</strong></a><a class="navbar__item navbar__link navbar__link--active" href="/intro">Document💻</a><a class="navbar__item navbar__link" href="/blog">Blog🤓</a><a class="navbar__item navbar__link" href="/ReadingNotes/A1.Sentence">Reading-Book📚</a><a class="navbar__item navbar__link" href="/Xmind_IMG/1.解题思维">Xmind🎮</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/yanzhw/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><a href="https://github.com/yanzhw/wiki_note" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">本站源码</a><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--checked react-toggle--disabled" role="button" tabindex="-1"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT" style="margin-left:2px">🌙</span></div><div class="react-toggle-track-x"><span class="toggle_71bT" style="margin-left:1px">🌞</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" checked="" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="Wiki logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.svg" alt="Wiki logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">My Wiki</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link navbar__link--active" href="/intro">Document💻</a></li><li class="menu__list-item"><a class="menu__link" href="/blog">Blog🤓</a></li><li class="menu__list-item"><a class="menu__link" href="/ReadingNotes/A1.Sentence">Reading-Book📚</a></li><li class="menu__list-item"><a class="menu__link" href="/Xmind_IMG/1.解题思维">Xmind🎮</a></li><li class="menu__list-item"><a href="https://github.com/yanzhw/" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li><li class="menu__list-item"><a href="https://github.com/yanzhw/wiki_note" target="_blank" rel="noopener noreferrer" class="menu__link">本站源码</a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo"><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">intro</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/intro">Readme</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">1.Linux</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Linux 命令</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Linux/A1.linux基础">A1.linux基础</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Linux/A2.Linux命令">A2.Linux命令</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Linux/A3.压缩">压缩</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Linux/A4.数据提取">数据提取</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Linux/A5.Linux命令补充">Linux命令</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">shell脚本</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Linux/shell脚本语法">shell脚本语法</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">ubuntu</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Linux/C1.ubuntu相关">C1.ubuntu相关</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Linux/C2.ubuntu常用软件">ubuntu常用软件</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Linux/C3.语言环境">语言环境</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">2.Algorithm</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">数据结构</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Algorithm/A1.DataStructure">数据结构和算法</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">算法设计</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Algorithm/B1.算法设计">算法设计</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Algorithm/C1.Algorithm">算法</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Algorithm/D1.ACM模板">ACM模板</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">数学</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Algorithm/E1.concrete">E1.concrete</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Algorithm/E2.Combinatorics">组合数学（Combinatorics）</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">3.Online_Judge</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">OJ</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Online_Judge/A1.Leetcode">A1.Leetcode</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Online_Judge/B1.HZOJ">HZOJ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Online_Judge/C1.nowcoder">nowcoder</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Online_Judge/D1.EP">D1.EP</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">4.Programming_Language</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">C</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Programming_Language/A1.CBasic">A1.CBasic</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Programming_Language/A2.Cimprove">A2.Cimprove</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Programming_Language/A3.C语言技巧">A3.C语言技巧</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">C++</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Programming_Language/B1.C++">B1.C++</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Programming_Language/B2.STL">STL</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Programming_Language/B3.C++-exercise">C++-exercise</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Programming_Language/B4.C++-others">C++ othres</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">python</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Programming_Language/C1.python">C1.python</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Programming_Language/C2.conda">C2.conda</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">5.Operating_system</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">操作系统</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Operating_system/A1.os">OS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Operating_system/A2.操作系统">A2.操作系统</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Operating_system/C1.计算机原理">C1.计算机原理</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Operating_system/D1.CSAPP">D1.CSAPP</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">系统编程</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Operating_system/B1.文件操作">文件操作</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Operating_system/B2.Linux命令行解析">Linux命令行解析</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Operating_system/B3.多进程">多进程</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Operating_system/B4.多线程">多线程线程</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Operating_system/B5.IPC">IPC：进程间通信</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Operating_system/B6.IO">B6.IO</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Operating_system/B7.mmap">B7.mmap</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Operating_system/B8.socket">B8.socket</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Operating_system/B9.文件传输">B9.文件传输</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Operating_system/B10.IO模型">B10.IO模型</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Operating_system/B11.sleep和间隔计时器">B11.sleep和间隔计时器</a></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">6.Network</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/Network/A1.计算机网络">A1.计算机网络</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">7.Server</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Server/A1.Linux高性能服务器">Linux高性能服务器</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">8.Database</a><ul class="menu__list"></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">9.Programming_Stardard</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Programming_Stardard/A1.C编程规范">A1.C编程规范</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Programming_Stardard/B1.编码英文缩写">B1.编码英文缩写</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Programming_Stardard/B2.英文标准缩写">B2.英文标准缩写</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">10.Skill</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Skill/A1.Latex数学公式">A1.Latex数学公式</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Skill/B1.Markdown语法">B1.Markdown语法</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Skill/C1.git">C1.git</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Skill/C2.github">GitHub</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Skill/D1.计算机英语">计算机英语</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">11.Interview</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Interview/A1.面试">面试</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">99.other</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/other/A1.临时">临时</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/other/B1.临时笔记">临时笔记</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/other/C1.task">task</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><header><h1 class="docTitle_3a4h">A1.计算机网络</h1></header><div class="markdown"><p>[TOC]</p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="计算机网络概论"></a>计算机网络概论<a class="hash-link" href="#计算机网络概论" title="Direct link to heading">#</a></h1><p><img alt="img" src="/assets/images/680403129a371fb7_img3-1623741071017-162dda61370306ac0124f0bc50beb384.bin"></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="入网物理层面"></a>入网物理层面<a class="hash-link" href="#入网物理层面" title="Direct link to heading">#</a></h3><p><img alt="img" src="/assets/images/680403129a371fb7_img4-1623741071018-349babe5c4bcedcc34508010b52f923f.bin"></p><p>DSL：用户数据线</p><p>网络上行下行不对称：0~4k~50k~1M</p><p>DSLAM：复用器</p><p><img alt="img" src="/assets/images/680403129a371fb7_img5-1623741071018-6f0c097c85349141ea0d0ef650159aa8.bin"></p><p>HFC：光纤同轴</p><p>长距离：光纤；短距离：同轴电缆</p><p><img alt="img" src="/assets/images/680403129a371fb7_img6-1623741071018-db90fce016cf43062eb782acfceec4f5.bin"></p><p>FTTH：光纤入户</p><p>光纤分配器：分光器，光猫modem</p><p><img alt="img" src="/assets/images/680403129a371fb7_img7-1623741071018-ea60f6d27fbfa70bab6dbf42503eb3b9.bin"></p><p>搭建局域网</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="tcpip四层模型"></a>TCP/IP四层模型<a class="hash-link" href="#tcpip四层模型" title="Direct link to heading">#</a></h3><p><img alt="image-20210614182857701" src="/assets/images/image-20210614182857701-1623741071018-07263a2b5565e3b7095829b0643bcf41.png"></p><p><img alt="image-20210614182903641" src="/assets/images/image-20210614182903641-1623741071018-03a30c08ff34f75518c56c5cea12e398.png"></p><p><img alt="image-20210614182908940" src="/assets/images/image-20210614182908940-1623741071018-d948bdaedfe0e89aa63cabcf348183d6.png"></p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="各层作用及协议"></a>各层作用及协议<a class="hash-link" href="#各层作用及协议" title="Direct link to heading">#</a></h4><table><thead><tr><th>分层</th><th>作用</th><th>协议</th><th>对应设备</th><th>协议数据单元</th></tr></thead><tbody><tr><td>应用层</td><td>为应用程序提供服务</td><td>FTP、DNS、HTTP、WWW、NFS</td><td>计算机</td><td>应用协议数据单元 APDU</td></tr><tr><td>表示层</td><td>数据格式转换，数据加密</td><td>JPEG、Telnet、SNMP(SNMP（简单网络管理协议)</td><td>计算机</td><td>表示协议数据单元 PPDU</td></tr><tr><td>会话层</td><td>建立、管理和维护会话</td><td>SSH、SMTP</td><td>计算机</td><td>会话协议数据单元 SPDU<br>报文message</td></tr><tr><td>运输层</td><td>提供端到端的可靠报文传递和错误恢复</td><td>TCP、UDP、SPX</td><td>进程和端口</td><td>报文段Segment<br>用户数据报</td></tr><tr><td>网络层</td><td>负责数据包从源到宿的传递和网际互连；<br>IP选址和路由选择</td><td>IP、ICMP、ARP、RARP、OSPF、IPX、RIP、IGRP</td><td>路由器、防火墙、<br>多层交换机(提供路由)</td><td>IP数据报（分组）<br>包 Packet</td></tr><tr><td>数据链路层</td><td>将比特组装成帧和点到点的传递<br>提供介质访问和链路管理</td><td>PPP(点到点)、FR、HDLC、VLAN、MAC、Ethernet(以太网)</td><td>网卡，网桥(不同网络互联)，<br>交换机(同一网络)</td><td>帧 Frame</td></tr><tr><td>物理层</td><td>通过媒介传输比特</td><td>IEEE802.3</td><td>中继器，集线器HUB，网线</td><td>比特bit</td></tr></tbody></table><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="常用端口"></a>常用端口<a class="hash-link" href="#常用端口" title="Direct link to heading">#</a></h1><table><thead><tr><th align="center">应用</th><th align="center">应用层协议</th><th align="center">端口号</th><th align="center">传输层协议</th><th align="center">备注</th></tr></thead><tbody><tr><td align="center">域名解析</td><td align="center">DNS</td><td align="center">53</td><td align="center">UDP/TCP</td><td align="center">长度超过 512 字节时使用 TCP</td></tr><tr><td align="center">动态主机配置协议</td><td align="center">DHCP</td><td align="center">67/68</td><td align="center">UDP</td><td align="center"></td></tr><tr><td align="center">简单网络管理协议</td><td align="center">SNMP</td><td align="center">161/162</td><td align="center">UDP</td><td align="center"></td></tr><tr><td align="center">文件传送协议</td><td align="center">FTP</td><td align="center">20/21</td><td align="center">TCP</td><td align="center">控制连接 21，数据连接 20</td></tr><tr><td align="center">远程终端协议</td><td align="center">TELNET</td><td align="center">23</td><td align="center">TCP</td><td align="center"></td></tr><tr><td align="center">超文本传送协议</td><td align="center">HTTP</td><td align="center">80</td><td align="center">TCP</td><td align="center"></td></tr><tr><td align="center">简单邮件传送协议</td><td align="center">SMTP</td><td align="center">25</td><td align="center">TCP</td><td align="center"></td></tr><tr><td align="center">邮件读取协议</td><td align="center">POP3</td><td align="center">110</td><td align="center">TCP</td><td align="center"></td></tr><tr><td align="center">网际报文存取协议</td><td align="center">IMAP</td><td align="center">143</td><td align="center">TCP</td><td align="center"></td></tr></tbody></table><p>分层目的：独立分工，业务逻辑抽象</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="各层功能"></a>各层功能<a class="hash-link" href="#各层功能" title="Direct link to heading">#</a></h4><ul><li>差错控制</li><li>流量控制</li><li>分段和服用</li><li>复用和分用</li><li>连接建立和释放</li></ul><p><img alt="image-20210614182917819" src="/assets/images/image-20210614182917819-1623741071018-7fc9d9ef29c138ffe79df59e3b63c1e6.png"></p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="网络协议组成要素"></a>网络协议组成要素<a class="hash-link" href="#网络协议组成要素" title="Direct link to heading">#</a></h4><ul><li>语法</li><li>语义</li><li>同步:确定时间的发生顺序</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="分组交换"></a>分组交换<a class="hash-link" href="#分组交换" title="Direct link to heading">#</a></h4><p>Message-&gt;Packet</p><p><img alt="img" src="/assets/images/680403129a371fb7_img19-1623741071018-9c9475d00d72aa972cbc7c08e56ba52c.bin"></p><p>等包的全部数据收齐再转发,否则:残包舍弃</p><p><img alt="img" src="/assets/images/680403129a371fb7_img20-1623741071018-1623744033311-b03e7a3a910687a0499ae2d6148d7cfa.bin"></p><p>ROUTER(路由器):存在输入输出缓冲区,当输出队列数据满后,主动丢包(超时重传)</p><p>网络延迟:单个包</p><p><img alt="image-20210614182932880" src="/assets/images/image-20210614182932880-1623741071018-ea6b8be00679ba3ea4137db2825a233c.png"></p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="路由转发表实时更新"></a>路由转发表(实时更新)<a class="hash-link" href="#路由转发表实时更新" title="Direct link to heading">#</a></h4><ol><li>网络 ID（Network ID, Network number）：就是目标地址的网络 ID。</li><li>子网掩码（subnet mask）：用来判断 IP 所属网络</li><li>下一跳地址/接口（Next hop / interface）：就是数据在发送到目标地址的旅途中下一站的地址。其中 interface 指向 next hop（即为下一个 route）。一个自治系统（AS, Autonomous system）中的 route 应该包含区域内所有的子网络，而默认网关（Network id: <code>0.0.0.0</code>, Netmask: <code>0.0.0.0</code>）指向自治系统的出口。</li></ol><p>根据应用和执行的不同，路由表可能含有如下附加信息：</p><ol><li>花费（Cost）：就是数据发送过程中通过路径所需要的花费。</li><li>路由的服务质量</li><li>路由中需要过滤的出/入连接列表</li></ol><p><img alt="image-20210614182957060" src="/assets/images/image-20210614182957060-1623741071018-463dc0b4e81d31fadc3a5adb44b4ad07.png"></p><p>电路交换:占用信道,独享,安全领域</p><p><img alt="img" src="/assets/images/680403129a371fb7_img24-1623741071018-8931cfad0abb4cb6eb5572b3c76963e9.bin"></p><p>频分复用:4051</p><p><img alt="img" src="/assets/images/680403129a371fb7_img25-1623741071018-d3d0f4e258423788d953f84de059383a.bin"></p><p><img alt="img" src="/assets/images/680403129a371fb7_img28-1623741071018-9011a4279939ab1736ed3c7bcac9c669.bin"></p><p><img alt="img" src="/assets/images/680403129a371fb7_img30-1623741071018-2a013ac56347b4c49c09302913bc7b4a.bin"></p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="应用层协议"></a>应用层协议<a class="hash-link" href="#应用层协议" title="Direct link to heading">#</a></h1><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="应用层协议网络应用程序的体系结构"></a>应用层协议网络应用程序的体系结构<a class="hash-link" href="#应用层协议网络应用程序的体系结构" title="Direct link to heading">#</a></h4><ul><li>C/S结构</li><li>P2P结构</li></ul><p><img alt="img" src="/assets/images/724d99d60c222ef8_img4-1623741071018-6e9e43b0e48847160ec57faa75c91b8a.bin"></p><p><img alt="img" src="/assets/images/724d99d60c222ef8_img5-1623741071018-b6e1e437971b9d7430fafe2fa4b9f1a3.bin"></p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="进程通信"></a>进程通信<a class="hash-link" href="#进程通信" title="Direct link to heading">#</a></h4><ul><li>所有CS结构的网络应用程序,都是由成对的进程组成</li><li>在P2P结构中,发起通信为客户端,等待服务的进程为服务器</li></ul><p>P2P:两主机为对等方,(百度网盘由中心节点,占用网络,计算机资源),不安全,没有激励机制</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="socket套接字"></a>socket套接字:<a class="hash-link" href="#socket套接字" title="Direct link to heading">#</a></h4><ul><li>应用程序与网络的APT</li><li>对运输层仅限于选择传输协议和设定参数</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="进程寻址"></a>进程寻址<a class="hash-link" href="#进程寻址" title="Direct link to heading">#</a></h4><p>​	进程(开发者控制)-&gt;套接字(操作系统控制)-&gt;TCP&lt;-&gt;因特网</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="可供应用程序使用的运输服务"></a>可供应用程序使用的运输服务<a class="hash-link" href="#可供应用程序使用的运输服务" title="Direct link to heading">#</a></h4><ul><li>可靠数据传输</li><li>图奴良</li><li>定时</li><li>安全性</li></ul><p><img alt="img" src="/assets/images/724d99d60c222ef8_img11-1623741071018-cbe898d2d03a5d74185a5c8cb55de9ca.bin"></p><p>TCP:面向连接的服务,可靠的数据传输</p><p>UDP:不提供必要服务的轻量级运输服务,不可靠的数据传输</p><p><img alt="img" src="/assets/images/724d99d60c222ef8_img14-1623741071018-8b098abab0f94e97d343757a2983145a.bin"></p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="应用层协议定义"></a>应用层协议定义<a class="hash-link" href="#应用层协议定义" title="Direct link to heading">#</a></h4><ul><li>交换报文类型,如请求报文和响应报文</li><li>各种报文类型的语法,如报文中各个字段的定义以及这些字段的描述</li><li>字段的语义,即这些字段中包含的信息的含义</li><li>一个进程何时以及如何发送报文,对报文进行响应的规则</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="web与http协议"></a>WEB与HTTP协议<a class="hash-link" href="#web与http协议" title="Direct link to heading">#</a></h2><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="web服务的应用层协议"></a>WEB服务的应用层协议<a class="hash-link" href="#web服务的应用层协议" title="Direct link to heading">#</a></h4><ul><li>HTTP（HyperText Transfer Protocol，超文本传输协议）是一种用于分布式、协作式和超媒体信息系统的应用层协议。HTTP 是万维网的数据通信的基础。\</li><li>客户程序和服务器程序运行在不同的端系统中(==C/S结构==),通过交换报文进行会话</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="web术语"></a>WEB术语<a class="hash-link" href="#web术语" title="Direct link to heading">#</a></h4><ul><li><p>Web页面(Web page, 文档)</p></li><li><p>对象(对象树)</p></li><li><p>HTML基本文件</p></li><li><p>URL</p><ul><li>URL（Uniform Resource Locator，统一资源定位符）是因特网上标准的资源的地址</li></ul><ul><li>标准格式：<code>协议类型:[//服务器地址[:端口号]][/资源层级UNIX文件路径]文件名[?查询][#片段ID]</code></li></ul><blockquote><p>其中【访问凭证信息@；:端口号；?查询；#片段ID】都属于选填项<br>
如：<code>https://github.com/huihut/interview#cc</code></p></blockquote></li><li><p>Web浏览器</p></li><li><p>Web服务器</p></li></ul><p><img alt="img" src="/assets/images/724d99d60c222ef8_img19-1623741071018-b66825a9c62ff64e8fb1192779519327.bin"></p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="http特点"></a>HTTP特点<a class="hash-link" href="#http特点" title="Direct link to heading">#</a></h4><ul><li><p>HTTP不用担心数据丢失,TCP协议</p></li><li><p>HTTP是一个无状态协议,服务器不存储关于客户的状态信息</p></li><li><p>HTTP服务器总是处于打开状态,具有一个固定IP</p></li><li><p>HTTP使用C/S结构</p></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="非持续连接短连接和持续连接长连接"></a>非持续连接(短连接)和持续连接(长连接)<a class="hash-link" href="#非持续连接短连接和持续连接长连接" title="Direct link to heading">#</a></h4><ol><li><p>HTTP客户端发起一个到服务器的TCP连接,使用默认端口80,服务器上和客户端上都有一个套接字与之对应</p></li><li><p>HTTP客户经socket向服务器发送请求GET报文,报文包好请求对象</p></li><li><p>HTTP服务器接受该报文,从服务器上检索对象,在HTTP响应报文中封装该对象,并通过socket发送</p></li><li><p>HTTP服务器通知TCP断开TCP连接</p></li><li><p>HTTP客户接收响应报文,TCP连接关闭</p></li><li><p>对于多个对象重复上述</p></li></ol><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="请求报文"></a>请求报文<a class="hash-link" href="#请求报文" title="Direct link to heading">#</a></h4><p><img alt="image-20210614183021599" src="/assets/images/image-20210614183021599-1623741071018-f2504342bde017d1ef49991ea9483e33.png"></p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="请求方法"></a>请求方法<a class="hash-link" href="#请求方法" title="Direct link to heading">#</a></h4><table><thead><tr><th>方法</th><th>意义</th></tr></thead><tbody><tr><td>OPTIONS</td><td>请求一些选项信息，允许客户端查看服务器的性能</td></tr><tr><td>GET</td><td>请求指定的页面信息，并返回实体主体</td></tr><tr><td>HEAD</td><td>类似于 get 请求，只不过返回的响应中没有具体的内容，用于获取报头</td></tr><tr><td>POST</td><td>向指定资源提交数据进行处理请求（例如提交表单或者上传文件）。数据被包含在请求体中。POST请求可能会导致新的资源的建立和/或已有资源的修改</td></tr><tr><td>PUT</td><td>从客户端向服务器传送的数据取代指定的文档的内容</td></tr><tr><td>DELETE</td><td>请求服务器删除指定的页面</td></tr><tr><td>TRACE</td><td>回显服务器收到的请求，主要用于测试或诊断</td></tr></tbody></table><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="状态码（status-code）"></a>状态码（Status-Code）<a class="hash-link" href="#状态码（status-code）" title="Direct link to heading">#</a></h4><ul><li>1xx：表示通知信息，如请求收到了或正在进行处理<ul><li>100 Continue：继续，客户端应继续其请求</li></ul></li><li>2xx：表示成功，如接收或知道了<ul><li>200 OK: 请求成功</li></ul></li><li>3xx：表示重定向，如要完成请求还必须采取进一步的行动<ul><li>301 Moved Permanently: 永久移动。请求的资源已被永久的移动到新 URL，返回信息会包括新的 URL，浏览器会自动定向到新 URL。今后任何新的请求都应使用新的 URL 代替</li></ul></li><li>4xx：表示客户的差错，如请求中有错误的语法或不能完成<ul><li>400 Bad Request: 客户端请求的语法错误，服务器无法理解</li><li>403 Forbidden: 服务器理解请求客户端的请求，但是拒绝执行此请求（权限不够）</li><li>404 Not Found: 服务器无法根据客户端的请求找到资源（网页）。通过此代码，网站设计人员可设置 “您所请求的资源无法找到” 的个性页面</li><li>408 Request Timeout: 服务器等待客户端发送的请求时间过长，超时</li></ul></li><li>5xx：表示服务器的差错，如服务器失效无法完成请求<ul><li>500 Internal Server Error: 服务器内部错误，无法完成请求</li><li>505 HTTP Version Not Supportted</li></ul></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="用户与服务器的交互--cookie"></a>用户与服务器的交互--COOKIE<a class="hash-link" href="#用户与服务器的交互--cookie" title="Direct link to heading">#</a></h4><ul><li>在HTTP响应报文中的一个cookie首部行</li><li>在HTTP请求报文中的一个cookie首部行</li><li>在用户端有浏览器管理的cookie文件</li><li>位于WEB后端的一个数据库</li></ul><p><img alt="image-20210614183029678" src="/assets/images/image-20210614183029678-aeec12d62b1ca42670290575f6ab3ba4.png"></p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="web缓存器"></a>WEB缓存器<a class="hash-link" href="#web缓存器" title="Direct link to heading">#</a></h4><p><img alt="img" src="/assets/images/724d99d60c222ef8_img29-1623741071018-f68a101cff4f4095bad39adb7a7b1329.bin"></p><p>WEB缓存器优点</p><ul><li>大大减少客户请求的响应时间(如何缓存器中存在直接返回)</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="http协议与https协议"></a>HTTP协议与HTTPS协议<a class="hash-link" href="#http协议与https协议" title="Direct link to heading">#</a></h3><p>HTTP-&gt;TCP</p><p>HTTPS-&gt;SSL(加密)/TLS(解密)-&gt;TCP</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="https"></a>HTTPS<a class="hash-link" href="#https" title="Direct link to heading">#</a></h4><ul><li>https协议需要申请证书</li><li>http是超文本传输协议,信息是明文传输,https是具有安全性的ssl加密传输协议</li><li>http(80)和https(443端口)是完全不同的连接方式</li><li>http连接简单,无状态</li><li>https协议是SSL+HTTP,可进行加密传输和身份认证的网络协议</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="http2"></a>HTTP2<a class="hash-link" href="#http2" title="Direct link to heading">#</a></h4><p><img alt="img" src="/assets/images/724d99d60c222ef8_img35-1623741071018-d52953db166a7080fb3d9b1b5c975c5b.bin"></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="ftp协议"></a>FTP协议<a class="hash-link" href="#ftp协议" title="Direct link to heading">#</a></h3><p><img alt="img" src="/assets/images/724d99d60c222ef8_img37-1623741071018-996e67a1c9b9d46ddf43124e808136f5.bin"></p><p><img alt="image-20210614183038392" src="/assets/images/image-20210614183038392-1623741071018-584c2be9eab477c114c67699c155fe89.png"></p><p>21控制端口是长连接:不进行任何操作,仍不会断开</p><p>20数据端口是短连接:可以通过关闭连接表示一个文件传输完毕</p><p>FTP使用客户/服务器模式，使用 TCP 数据报，提供交互式访问，双向传输。</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="ftp命令和回答"></a>FTP命令和回答<a class="hash-link" href="#ftp命令和回答" title="Direct link to heading">#</a></h4><table><thead><tr><th>命令</th><th>解释</th></tr></thead><tbody><tr><td>USER</td><td>username</td></tr><tr><td>PASS</td><td>passwd</td></tr><tr><td>LIST</td><td>请求文件列表,数据连接,新建且非连续连接</td></tr><tr><td>RETR filename</td><td>get文件</td></tr><tr><td>STRO filename</td><td>put文件</td></tr></tbody></table><p>典型回答:331 Username OK, Password Required</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="smtppop3imap协议"></a>SMTP,POP3,IMAP协议<a class="hash-link" href="#smtppop3imap协议" title="Direct link to heading">#</a></h3><p><img alt="img" src="/assets/images/724d99d60c222ef8_img42-1623741071018-23cdfcfedef7a7419f069da197eedb7e.bin"></p><p>一个电子邮件系统由三部分组成：用户代理、邮件服务器以及邮件协议。</p><p>邮件协议包含发送协议和读取协议，发送协议常用 SMTP(简单邮件传输协议)，读取协议常用 POP3 和 IMAP</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="dns协议"></a>DNS协议<a class="hash-link" href="#dns协议" title="Direct link to heading">#</a></h3><p>主机名-&gt;IP地,</p><ul><li>DNS（Domain Name System，域名系统）是互联网的一项服务。它作为将域名和 IP 地址相互映射的一个分布式数据库，能够使人更方便地访问互联网。DNS 使用 TCP 和 UDP 端口 53。当前，对于每一级域名长度的限制是 63 个字符，域名总长度则不能超过 253 个字符。</li></ul><p>域名：</p><ul><li><code>域名 ::= {&lt;三级域名&gt;.&lt;二级域名&gt;.&lt;顶级域名&gt;}</code>，如：<code>blog.huihut.com</code></li></ul><p>集中式DNS可能的问题</p><ul><li>单点故障</li><li>通信容量大</li><li>远离集中式数据库的,时延高</li><li>维护不易</li></ul><p><img alt="img" src="/assets/images/724d99d60c222ef8_img47-1623741071018-726c8a42da7c3a1ce4a4c0c7cad9ea1b.bin"></p><p>1,8递归,2,3,4,5,6,7迭代</p><p>TLD顶级域服务器.com;.cn</p><p><img alt="img" src="/assets/images/724d99d60c222ef8_img48-1623741071018-84172930815d6280fabc2c6350a3ffd0.bin"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="web-页面请求过程"></a>Web 页面请求过程<a class="hash-link" href="#web-页面请求过程" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="1-dhcp-配置主机信息"></a>1. DHCP 配置主机信息<a class="hash-link" href="#1-dhcp-配置主机信息" title="Direct link to heading">#</a></h3><ul><li><p>假设主机最开始没有 IP 地址以及其它信息，那么就需要先使用 DHCP 来获取。</p></li><li><p>主机生成一个 DHCP 请求报文，并将这个报文放入具有目的端口 67 和源端口 68 的 UDP 报文段中。</p></li><li><p>该报文段则被放入在一个具有广播 IP 目的地址(255.255.255.255) 和源 IP 地址（0.0.0.0）的 IP 数据报中。</p></li><li><p>该数据报则被放置在 MAC 帧中，该帧具有目的地址 FF:FF:FF:FF:FF:FFF，将广播到与交换机连接的所有设备。</p></li><li><p>连接在交换机的 DHCP 服务器收到广播帧之后，不断地向上分解得到 IP 数据报、UDP 报文段、DHCP 请求报文，之后生成 DHCP ACK 报文，该报文包含以下信息：IP 地址、DNS 服务器的 IP 地址、默认网关路由器的 IP 地址和子网掩码。该报文被放入 UDP 报文段中，UDP 报文段有被放入 IP 数据报中，最后放入 MAC 帧中。</p></li><li><p>该帧的目的地址是请求主机的 MAC 地址，因为交换机具有自学习能力，之前主机发送了广播帧之后就记录了 MAC 地址到其转发接口的交换表项，因此现在交换机就可以直接知道应该向哪个接口发送该帧。</p></li><li><p>主机收到该帧后，不断分解得到 DHCP 报文。之后就配置它的 IP 地址、子网掩码和 DNS 服务器的 IP 地址，并在其 IP 转发表中安装默认网关。</p></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="2-arp-解析-mac-地址"></a>2. ARP 解析 MAC 地址<a class="hash-link" href="#2-arp-解析-mac-地址" title="Direct link to heading">#</a></h3><ul><li><p>主机通过浏览器生成一个 TCP 套接字，套接字向 HTTP 服务器发送 HTTP 请求。为了生成该套接字，主机需要知道网站的域名对应的 IP 地址。</p></li><li><p>主机生成一个 DNS 查询报文，该报文具有 53 号端口，因为 DNS 服务器的端口号是 53。</p></li><li><p>该 DNS 查询报文被放入目的地址为 DNS 服务器 IP 地址的 IP 数据报中。</p></li><li><p>该 IP 数据报被放入一个以太网帧中，该帧将发送到网关路由器。</p></li><li><p>DHCP 过程只知道网关路由器的 IP 地址，为了获取网关路由器的 MAC 地址，需要使用 ARP 协议。</p></li><li><p>主机生成一个包含目的地址为网关路由器 IP 地址的 ARP 查询报文，将该 ARP 查询报文放入一个具有广播目的地址（FF:FF:FF:FF:FF:FF）的以太网帧中，并向交换机发送该以太网帧，交换机将该帧转发给所有的连接设备，包括网关路由器。</p></li><li><p>网关路由器接收到该帧后，不断向上分解得到 ARP 报文，发现其中的 IP 地址与其接口的 IP 地址匹配，因此就发送一个 ARP 回答报文，包含了它的 MAC 地址，发回给主机。</p></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="3-dns-解析域名"></a>3. DNS 解析域名<a class="hash-link" href="#3-dns-解析域名" title="Direct link to heading">#</a></h3><ul><li><p>知道了网关路由器的 MAC 地址之后，就可以继续 DNS 的解析过程了。</p></li><li><p>网关路由器接收到包含 DNS 查询报文的以太网帧后，抽取出 IP 数据报，并根据转发表决定该 IP 数据报应该转发的路由器。</p></li><li><p>因为路由器具有内部网关协议（RIP、OSPF）和外部网关协议（BGP）这两种路由选择协议，因此路由表中已经配置了网关路由器到达 DNS 服务器的路由表项。</p></li><li><p>到达 DNS 服务器之后，DNS 服务器抽取出 DNS 查询报文，并在 DNS 数据库中查找待解析的域名。</p></li><li><p>找到 DNS 记录之后，发送 DNS 回答报文，将该回答报文放入 UDP 报文段中，然后放入 IP 数据报中，通过路由器反向转发回网关路由器，并经过以太网交换机到达主机。</p></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="4-http-请求页面"></a>4. HTTP 请求页面<a class="hash-link" href="#4-http-请求页面" title="Direct link to heading">#</a></h3><ul><li><p>有了 HTTP 服务器的 IP 地址之后，主机就能够生成 TCP 套接字，该套接字将用于向 Web 服务器发送 HTTP GET 报文。</p></li><li><p>在生成 TCP 套接字之前，必须先与 HTTP 服务器进行三次握手来建立连接。生成一个具有目的端口 80 的 TCP SYN 报文段，并向 HTTP 服务器发送该报文段。</p></li><li><p>HTTP 服务器收到该报文段之后，生成 TCP SYN ACK 报文段，发回给主机。</p></li><li><p>连接建立之后，浏览器生成 HTTP GET 报文，并交付给 HTTP 服务器。</p></li><li><p>HTTP 服务器从 TCP 套接字读取 HTTP GET 报文，生成一个 HTTP 响应报文，将 Web 页面内容放入报文主体中，发回给主机。</p></li><li><p>浏览器收到 HTTP 响应报文后，抽取出 Web 页面内容，之后进行渲染，显示 Web 页面。</p></li></ul><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="运输层协议"></a>运输层协议<a class="hash-link" href="#运输层协议" title="Direct link to heading">#</a></h1><p><img alt="img" src="/assets/images/339b3b923ab83b1e_img4-1623741071018-d945127d3f5cec5914918a2c8597d2bb.bin"></p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="ip不可靠"></a>IP不可靠<a class="hash-link" href="#ip不可靠" title="Direct link to heading">#</a></h4><ul><li>不确保报文段的交付</li><li>不保证报文段的按序交付</li><li>不保证报文段的数据完整性</li></ul><p>UDP</p><ul><li>不确定对方是否收到,即使出错对端也不会告知</li><li>无连接:不维护对端的信息</li></ul><p>传输的最低限度:交付与差错检验</p><p>IP:维护网络与网络之间-&gt;TCP/UDP:进程与进程之间</p><p>每台主机只有一个IP地址</p><p><img alt="img" src="/assets/images/339b3b923ab83b1e_img5-1623741071018-edd53e717da54452b2eb30068819defd.bin"></p><p>层上分解,层下复用</p><p>多路分解:运输层报文段中的数据交付到正确的套接字的工作</p><p>多路复用:从源主机从不同套接字中手机数据块,为每个数据块添加首部信息,从而生成报文段</p><p><img alt="img" src="/assets/images/339b3b923ab83b1e_img7-1623741071018-e6ba860bf71803bd01fb62d96d3bf8cd.bin"></p><p>端口与端口的连接维护是一个由</p><p>TCP套接字(源端口,目的端口,源IP,目的IP)组成的四元组</p><p>UDP套接字(目的IP和目的端口号)组成的二元组</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="udp无连接原因"></a>UDP无连接原因<a class="hash-link" href="#udp无连接原因" title="Direct link to heading">#</a></h4><ul><li>对何时,发送什么数据的应用层控制更精细</li><li>无需建立连接</li><li>无状态连接(不维护对端信息)</li><li>分组开销小(首部字段小)</li></ul><p>网络风暴时,SNMP由UDP实现,以极有可能的方式发送</p><p>每一个数据包都有一个生命期限(多少跳),每经过一个路由器减一;</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="udp-首部格式"></a>UDP 首部格式<a class="hash-link" href="#udp-首部格式" title="Direct link to heading">#</a></h4><p><img alt="img" src="/assets/images/d4c3a4a1-0846-46ec-9cc3-eaddfca71254-fa0b2fb6c0b49ac53264982e7188d0ad.jpg"></p><p>首部字段只有 8 个字节，包括源端口、目的端口、长度、检验和。12 字节的伪首部是为了计算检验和临时添加的</p><p><img alt="img" src="/assets/images/339b3b923ab83b1e_img11-1623741071018-2d05254a4aabfa3b83dd2ad779d3ea30.bin"></p><p>rdt可靠数据传输</p><p>udt不可数据传输</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="tcp协议"></a>TCP协议<a class="hash-link" href="#tcp协议" title="Direct link to heading">#</a></h2><p><img alt="img" src="/assets/images/339b3b923ab83b1e_img21-1623741071019-98af3050b3fb72437d5f698d5edaf881.bin"></p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="tcp报文"></a>TCP报文<a class="hash-link" href="#tcp报文" title="Direct link to heading">#</a></h4><p><img alt="img" src="/assets/images/339b3b923ab83b1e_img22-1623741071019-59e21f0a217f0e3dffc7307763e64a8d.bin"></p><ul><li><p><strong>序号</strong>   ：用于对字节流进行编号，例如序号为 301，表示第一个字节的编号为 301，如果携带的数据长度为 100 字节，那么下一个报文段的序号应为 401。</p></li><li><p><strong>确认号</strong>   ：期望收到的下一个报文段的序号。例如 B 正确收到 A 发送来的一个报文段，序号为 501，携带的数据长度为 200 字节，因此 B 期望下一个报文段的序号为 701，B 发送给 A 的确认报文段中确认号就为 701。</p></li><li><p><strong>数据偏移</strong>   ：指的是数据部分距离报文段起始处的偏移量，实际上指的是首部的长度。</p></li><li><p><strong>确认 ACK</strong>   ：当 ACK=1 时确认号字段有效，否则无效。TCP 规定，在连接建立后所有传送的报文段都必须把 ACK 置 1。</p></li><li><p><strong>同步 SYN</strong>   ：在连接建立时用来同步序号。当 SYN=1，ACK=0 时表示这是一个连接请求报文段。若对方同意建立连接，则响应报文中 SYN=1，ACK=1。</p></li><li><p><strong>终止 FIN</strong>   ：用来释放一个连接，当 FIN=1 时，表示此报文段的发送方的数据已发送完毕，并要求释放连接。</p></li><li><p><strong>窗口</strong>   ：窗口值作为接收方让发送方设置其发送窗口的依据。之所以要有这个限制，是因为接收方的数据缓存空间是有限的。</p></li></ul><ul><li><strong>URG</strong>：紧急比特（urgent），当 <code>URG＝1</code> 时，表明紧急指针字段有效，代表该封包为紧急封包。它告诉系统此报文段中有紧急数据，应尽快传送(相当于高优先级的数据)， 且上图中的 Urgent Pointer 字段也会被启用。</li><li><strong>PSH</strong>：（Push function）若为 1 时，代表要求对方立即传送缓冲区内的其他对应封包，而无需等缓冲满了才送。</li><li><strong>RST</strong>：复位比特(Reset)，当 <code>RST＝1</code> 时，表明 TCP 连接中出现严重差错（如由于主机崩溃或其他原因），必须释放连接，然后再重新建立运输连接。</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="tcp-的三次握手"></a>TCP 的三次握手<a class="hash-link" href="#tcp-的三次握手" title="Direct link to heading">#</a></h3><p><img alt="img" src="/assets/images/e92d0ebc-7d46-413b-aec1-34a39602f787-c8e03dd69de4b848d2a47734c0f91b22.png">
假设 A 为客户端，B 为服务器端。</p><ul><li><p>首先 B 处于 LISTEN（监听）状态，等待客户的连接请求。</p></li><li><p>A 向 B 发送连接请求报文，SYN=1，ACK=0，选择一个初始的序号 x。</p></li><li><p>B 收到连接请求报文，如果同意建立连接，则向 A 发送连接确认报文，SYN=1，ACK=1，确认号为 x+1，同时也选择一个初始的序号 y。</p></li><li><p>A 收到 B 的连接确认报文后，还要向 B 发出确认，确认号为 y+1，序号为 x+1。</p></li><li><p>B 收到 A 的确认后，连接建立。</p></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="三次握手的原因"></a><strong>三次握手的原因</strong><a class="hash-link" href="#三次握手的原因" title="Direct link to heading">#</a></h4><p>【答案一】因为信道不可靠，而 TCP 想在不可靠信道上建立可靠地传输，那么三次通信是理论上的最小值。（而 UDP 则不需建立可靠传输，因此 UDP 不需要三次握手。）</p><blockquote><p><a href="https://groups.google.com/forum/#!msg/pongba/kF6O7-MFxM0/5S7zIJ4yqKUJ" target="_blank" rel="noopener noreferrer">Google Groups . TCP 建立连接为什么是三次握手？{技术}{网络通信}</a></p></blockquote><p>【答案二】因为双方都需要确认对方收到了自己发送的序列号，确认过程最少要进行三次通信。</p><blockquote><p><a href="https://www.zhihu.com/question/24853633/answer/115173386" target="_blank" rel="noopener noreferrer">知乎 . TCP 为什么是三次握手，而不是两次或四次？</a></p></blockquote><p>【答案三】为了防止已失效的连接请求报文段突然又传送到了服务端，因而产生错误。</p><p>第三次握手是为了防止失效的连接请求到达服务器，让服务器错误打开连接。</p><p>客户端发送的连接请求如果在网络中滞留，那么就会隔很长一段时间才能收到服务器端发回的连接确认。客户端等待一个超时重传时间之后，就会重新请求连接。但是这个滞留的连接请求最后还是会到达服务器，如果不进行三次握手，那么服务器就会打开两个连接。如果有第三次握手，客户端会忽略服务器之后发送的对滞留连接请求的连接确认，不进行第三次握手，因此就不会再次打开连接。</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="流量控制"></a>流量控制<a class="hash-link" href="#流量控制" title="Direct link to heading">#</a></h4><p><img alt="img" src="/assets/images/339b3b923ab83b1e_img32-1623741071019-701108e86e8a44944ceae534e6e1b4d4.bin"></p><p>接收方发送的确认报文中的窗口字段可以用来控制发送方窗口大小，从而影响发送方的发送速率。将窗口字段设置为 0，则发送方不能发送数据</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="利用可变窗口进行流量控制"></a>利用可变窗口进行流量控制<a class="hash-link" href="#利用可变窗口进行流量控制" title="Direct link to heading">#</a></h4><p><img src="/assets/images/利用可变窗口进行流量控制举例-1623741071019-2946c231c94b3d84147d14a0587b836f.png"></p><p>rwnd接收窗口</p><p>cwnd拥塞窗口</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="tcp-拥塞控制"></a>TCP 拥塞控制<a class="hash-link" href="#tcp-拥塞控制" title="Direct link to heading">#</a></h3><p>如果网络出现拥塞，分组将会丢失，此时发送方会继续重传，从而导致网络拥塞程度更高。因此当出现拥塞时，应当控制发送方的速率。这一点和流量控制很像，但是出发点不同。流量控制是为了让接收方能来得及接收，而拥塞控制是为了降低整个网络的拥塞程度。</p><ul><li><p>一个丢失的报文段意味着拥塞,丢包就应该减少发送端的发送速率</p></li><li><p>一个确认的报文段表示网络正在向接收方交付报文段,一次,当收到对之前报文的ACK后,应该增加发送方速率</p></li><li><p>带宽探测</p><p><img alt="img" src="/assets/images/TCP的拥塞控制流程图-1623741071019-a806d3ceaa0460df67a936a9545831ec.png"></p></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="tcp-四次挥手释放连接"></a>TCP 四次挥手释放连接<a class="hash-link" href="#tcp-四次挥手释放连接" title="Direct link to heading">#</a></h3><p><img alt="UDP 报文" src="/assets/images/TCP四次挥手释放连接-1623741071019-c9e7b34e9bb050193cd92b5094bc9af0.png"></p><p>【TCP 释放连接全过程解释】</p><ol><li>客户端发送 FIN 给服务器，说明客户端不必发送数据给服务器了（请求释放从客户端到服务器的连接）；</li><li>服务器接收到客户端发的 FIN，并回复 ACK 给客户端（同意释放从客户端到服务器的连接）；</li><li>客户端收到服务端回复的 ACK，此时从客户端到服务器的连接已释放（但服务端到客户端的连接还未释放，并且客户端还可以接收数据）；</li><li>服务端继续发送之前没发完的数据给客户端；</li><li>服务端发送 FIN+ACK 给客户端，说明服务端发送完了数据（请求释放从服务端到客户端的连接，就算没收到客户端的回复，过段时间也会自动释放）；</li><li>客户端收到服务端的 FIN+ACK，并回复 ACK 给客户端（同意释放从服务端到客户端的连接）；</li><li>服务端收到客户端的 ACK 后，释放从服务端到客户端的连接。</li></ol><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="tcp-为什么要进行四次挥手？"></a>TCP 为什么要进行四次挥手？<a class="hash-link" href="#tcp-为什么要进行四次挥手？" title="Direct link to heading">#</a></h5><p>【问题一】TCP 为什么要进行四次挥手？ / 为什么 TCP 建立连接需要三次，而释放连接则需要四次？</p><p>【答案一】因为 TCP 是全双工模式，客户端请求关闭连接后，客户端向服务端的连接关闭（一二次挥手），服务端继续传输之前没传完的数据给客户端（数据传输），服务端向客户端的连接关闭（三四次挥手）。所以 TCP 释放连接时服务器的 ACK 和 FIN 是分开发送的（中间隔着数据传输），而 TCP 建立连接时服务器的 ACK 和 SYN 是一起发送的（第二次握手），所以 TCP 建立连接需要三次，而释放连接则需要四次。</p><p>【问题二】为什么 TCP 连接时可以 ACK 和 SYN 一起发送，而释放时则 ACK 和 FIN 分开发送呢？（ACK 和 FIN 分开是指第二次和第三次挥手）</p><p>【答案二】因为客户端请求释放时，服务器可能还有数据需要传输给客户端，因此服务端要先响应客户端 FIN 请求（服务端发送 ACK），然后数据传输，传输完成后，服务端再提出 FIN 请求（服务端发送 FIN）；而连接时则没有中间的数据传输，因此连接时可以 ACK 和 SYN 一起发送。</p><p>【问题三】为什么客户端释放最后需要 TIME-WAIT 等待 2MSL 呢？</p><p>【答案三】</p><ol><li>为了保证客户端发送的最后一个 ACK 报文能够到达服务端。若未成功到达，则服务端超时重传 FIN+ACK 报文段，客户端再重传 ACK，并重新计时。</li><li>防止已失效的连接请求报文段出现在本连接中。TIME-WAIT 持续 2MSL 可使本连接持续的时间内所产生的所有报文段都从网络中消失，这样可使下次连接中不会出现旧的连接报文段。</li></ol><p><img alt="img" src="/assets/images/339b3b923ab83b1e_img28-1623741071019-6b72800b24a63ff0568c48aaf8c37fb4.bin"></p><p><img alt="img" src="/assets/images/339b3b923ab83b1e_img29-1623741071019-d6286647aa90576ee5623198472f9fbc.bin"></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="tcp-黏包问题"></a>TCP 黏包问题<a class="hash-link" href="#tcp-黏包问题" title="Direct link to heading">#</a></h3><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="原因"></a>原因<a class="hash-link" href="#原因" title="Direct link to heading">#</a></h5><p>TCP 是一个基于字节流的传输服务（UDP 基于报文的），“流” 意味着 TCP 所传输的数据是没有边界的。所以可能会出现两个数据包黏在一起的情况。</p><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="解决"></a>解决<a class="hash-link" href="#解决" title="Direct link to heading">#</a></h5><ul><li>发送定长包。如果每个消息的大小都是一样的，那么在接收对等方只要累计接收数据，直到数据等于一个定长的数值就将它作为一个消息。</li><li>包头加上包体长度。包头是定长的 4 个字节，说明了包体的长度。接收对等方先接收包头长度，依据包头长度来接收包体。</li><li>在数据包之间设置边界，如添加特殊符号 <code>\r\n</code> 标记。FTP 协议正是这么做的。但问题在于如果数据正文中也含有 <code>\r\n</code>，则会误判为消息的边界。</li><li>使用更加复杂的应用层协议。</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="ip协议"></a>IP协议<a class="hash-link" href="#ip协议" title="Direct link to heading">#</a></h3><p><img alt="img" src="/assets/images/fb2604a4106781a9_img5-1623741071019-707df8f6494dcbc3c70e809eefe2a925.bin"></p><p>每个主机都有一个 ARP 高速缓存，里面有本局域网上的各主机和路由器的 IP 地址到 MAC 地址的映射表。</p><p>如果主机 A 知道主机 B 的 IP 地址，但是 ARP 高速缓存中没有该 IP 地址到 MAC 地址的映射，此时主机 A 通过广播的方式发送 ARP 请求分组，主机 B 收到该请求后会发送 ARP 响应分组给主机 A 告知其 MAC 地址，随后主机 A 向其高速缓存中写入主机 B 的 IP 地址到 MAC 地址的映射。</p><p><img alt="img" src="/assets/images/8006a450-6c2f-498c-a928-c927f758b1d0-0c8c577f7b97c9d08c81c477d5bce2d9.png"></p><p><img alt="img" src="/assets/images/fb2604a4106781a9_img6-1623741071019-b1717821a735523602c7a35c90e1d921.bin"></p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="ip-网际协议"></a>IP 网际协议<a class="hash-link" href="#ip-网际协议" title="Direct link to heading">#</a></h4><p>IP 地址分类：</p><ul><li><code>IP 地址 ::= {&lt;网络号&gt;,&lt;主机号&gt;}</code></li></ul><table><thead><tr><th>IP 地址类别</th><th>网络号</th><th>网络范围</th><th>主机号</th><th>IP 地址范围</th></tr></thead><tbody><tr><td>A 类</td><td>8bit，第一位固定为 0</td><td>0 —— 127</td><td>24bit</td><td>1.0.0.0 —— 127.255.255.255</td></tr><tr><td>B 类</td><td>16bit，前两位固定为  10</td><td>128.0 —— 191.255</td><td>16bit</td><td>128.0.0.0 —— 191.255.255.255</td></tr><tr><td>C  类</td><td>24bit，前三位固定为  110</td><td>192.0.0 —— 223.255.255</td><td>8bit</td><td>192.0.0.0 —— 223.255.255.255</td></tr><tr><td>D  类</td><td>前四位固定为 1110，后面为多播地址</td><td></td><td></td><td></td></tr><tr><td>E  类</td><td>前五位固定为 11110，后面保留为今后所用</td><td></td><td></td><td></td></tr></tbody></table><p><img alt="img" src="/assets/images/fb2604a4106781a9_img7-1623741071019-f75b0698dd5fdb02457814a6a137c99a.bin"></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="网络层"></a>网络层<a class="hash-link" href="#网络层" title="Direct link to heading">#</a></h3><ul><li>IP（Internet Protocol，网际协议）是为计算机网络相互连接进行通信而设计的协议。</li><li>ARP（Address Resolution Protocol，地址解析协议）</li><li>ICMP（Internet Control Message Protocol，网际控制报文协议）</li><li>IGMP（Internet Group Management Protocol，网际组管理协议）</li></ul><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="网络层-1"></a>网络层<a class="hash-link" href="#网络层-1" title="Direct link to heading">#</a></h1><p><img alt="img" src="/assets/images/a2c2efa0b214fcd8_img6-1623741071019-266465bfdb675a728381a3947790a265.bin"></p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="路由器的结构"></a>路由器的结构<a class="hash-link" href="#路由器的结构" title="Direct link to heading">#</a></h4><p>路由器从功能上可以划分为：路由选择和分组转发。</p><p>分组转发结构由三个部分组成：交换结构、一组输入端口和一组输出端口。</p><p><img alt="img" src="/assets/images/c3369072-c740-43b0-b276-202bd1d3960d-605ed6b8429b7638ddf68f918e2fb7f2.jpg"></p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="路由器分组转发流程"></a>路由器分组转发流程<a class="hash-link" href="#路由器分组转发流程" title="Direct link to heading">#</a></h4><ul><li>从数据报的首部提取目的主机的 IP 地址 D，得到目的网络地址 N。</li><li>若 N 就是与此路由器直接相连的某个网络地址，则进行直接交付；</li><li>若路由表中有目的地址为 D 的特定主机路由，则把数据报传送给表中所指明的下一跳路由器；</li><li>若路由表中有到达网络 N 的路由，则把数据报传送给路由表中所指明的下一跳路由器；</li><li>若路由表中有一个默认路由，则把数据报传送给路由表中所指明的默认路由器；</li><li>报告转发分组出错。</li></ul><p><img alt="img" src="/assets/images/a2c2efa0b214fcd8_img12-1623741071019-f9d53181109a94a0685ca160f374965f.bin"></p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="ip-数据报格式"></a>IP 数据报格式<a class="hash-link" href="#ip-数据报格式" title="Direct link to heading">#</a></h1><p><img alt="img" src="/assets/images/85c05fb1-5546-4c50-9221-21f231cdc8c5-a30d2b41a0e736b9e15d38e701bf0ee9.jpg"></p><ul><li><p><strong>版本</strong>   : 有 4（IPv4）和 6（IPv6）两个值；</p></li><li><p><strong>首部长度</strong>   : 占 4 位，因此最大值为 15。值为 1 表示的是 1 个 32 位字的长度，也就是 4 字节。因为固定部分长度为 20 字节，因此该值最小为 5。如果可选字段的长度不是 4 字节的整数倍，就用尾部的填充部分来填充。</p></li><li><p><strong>区分服务</strong>   : 用来获得更好的服务，一般情况下不使用。</p></li><li><p><strong>总长度</strong>   : 包括首部长度和数据部分长度。</p></li><li><p><strong>生存时间</strong>   ：TTL，它的存在是为了防止无法交付的数据报在互联网中不断兜圈子。以路由器跳数为单位，当 TTL 为 0 时就丢弃数据报。</p></li><li><p><strong>上层协议</strong>  ：指出携带的数据应该上交给哪个协议进行处理，例如 ICMP、TCP、UDP 等。</p></li><li><p><strong>首部检验和</strong>  ：因为数据报每经过一个路由器，都要重新计算检验和，因此检验和不包含数据部分可以减少计算的工作量。</p></li><li><p><strong>标识</strong>   : 在数据报长度过长从而发生分片的情况下，相同数据报的不同分片具有相同的标识符。</p></li><li><p><strong>片偏移</strong>   : 和标识符一起，用于发生分片的情况。片偏移的单位为 8 字节。</p></li></ul><p><img alt="img" src="/assets/images/23ba890e-e11c-45e2-a20c-64d217f83430-c2901daf0a1c7f000f29c04b65594a72.png"></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="dhcp"></a>DHCP<a class="hash-link" href="#dhcp" title="Direct link to heading">#</a></h3><p>动态主机配置协议 MAC地址-&gt;IP地址</p><p><img alt="img" src="/assets/images/a2c2efa0b214fcd8_img17-1623741071019-01c1b52953d081338e308966510f0363.bin"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="nat"></a>NAT<a class="hash-link" href="#nat" title="Direct link to heading">#</a></h2><p><img alt="img" src="/assets/images/a2c2efa0b214fcd8_img18-1623741071019-e142b692f297f2c295e68fb684537e53.bin"></p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="链路层协议"></a>链路层协议<a class="hash-link" href="#链路层协议" title="Direct link to heading">#</a></h1><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="链路层提供的服务"></a>链路层提供的服务<a class="hash-link" href="#链路层提供的服务" title="Direct link to heading">#</a></h4><ul><li>成帧</li><li>链路接入</li><li>可靠交付</li><li>差错检测和纠正</li></ul><p><img alt="img" src="/assets/images/437dc2ff98edb42a_img4-1623741071019-42b36d7784d4c65b793f692650fc495e.bin"></p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="检测差错"></a>检测差错<a class="hash-link" href="#检测差错" title="Direct link to heading">#</a></h4><ul><li>奇偶校验</li><li>校验和</li><li>循环冗余校验</li></ul><p><img alt="img" src="/assets/images/437dc2ff98edb42a_img9-1623741071019-65431e367007580bf4023ea6fed7360d.bin"></p><p>信道划分协议 CDMA</p><p><img alt="img" src="/assets/images/437dc2ff98edb42a_img16-1623741071019-64395bfe120bbd823cc3f4ec0c89a3e8.bin"></p><p><img alt="img" src="/assets/images/437dc2ff98edb42a_img20-1623741071019-f7b479b3821b24fcc02cb7862bc98819.bin"></p><p><img alt="image-20210614183318984" src="/assets/images/image-20210614183318984-1623741071019-f5bce3bfd49df76350fa05635c63e707.png"></p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/yanzhw/wiki_note/edit/main/docs/6.Network/A1.计算机网络.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col text--right"><em><small>Last updated on <time datetime="2021-06-21T01:57:04.000Z" class="lastUpdatedDate_1WI_">6/21/2021</time></small></em></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/Operating_system/B11.sleep和间隔计时器"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« B11.sleep和间隔计时器</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/Server/A1.Linux高性能服务器"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Linux高性能服务器 »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#入网物理层面" class="table-of-contents__link">入网物理层面</a></li><li><a href="#tcpip四层模型" class="table-of-contents__link">TCP/IP四层模型</a></li><li><a href="#web与http协议" class="table-of-contents__link">WEB与HTTP协议</a><ul><li><a href="#http协议与https协议" class="table-of-contents__link">HTTP协议与HTTPS协议</a></li><li><a href="#ftp协议" class="table-of-contents__link">FTP协议</a></li><li><a href="#smtppop3imap协议" class="table-of-contents__link">SMTP,POP3,IMAP协议</a></li><li><a href="#dns协议" class="table-of-contents__link">DNS协议</a></li></ul></li><li><a href="#web-页面请求过程" class="table-of-contents__link">Web 页面请求过程</a><ul><li><a href="#1-dhcp-配置主机信息" class="table-of-contents__link">1. DHCP 配置主机信息</a></li><li><a href="#2-arp-解析-mac-地址" class="table-of-contents__link">2. ARP 解析 MAC 地址</a></li><li><a href="#3-dns-解析域名" class="table-of-contents__link">3. DNS 解析域名</a></li><li><a href="#4-http-请求页面" class="table-of-contents__link">4. HTTP 请求页面</a></li></ul></li><li><a href="#tcp协议" class="table-of-contents__link">TCP协议</a><ul><li><a href="#tcp-的三次握手" class="table-of-contents__link">TCP 的三次握手</a></li><li><a href="#tcp-拥塞控制" class="table-of-contents__link">TCP 拥塞控制</a></li><li><a href="#tcp-四次挥手释放连接" class="table-of-contents__link">TCP 四次挥手释放连接</a></li><li><a href="#tcp-黏包问题" class="table-of-contents__link">TCP 黏包问题</a></li><li><a href="#ip协议" class="table-of-contents__link">IP协议</a></li><li><a href="#网络层" class="table-of-contents__link">网络层</a></li><li><a href="#dhcp" class="table-of-contents__link">DHCP</a></li></ul></li><li><a href="#nat" class="table-of-contents__link">NAT</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2021 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.31159d9f.js"></script>
<script src="/assets/js/main.43afbd55.js"></script>
</body>
</html>